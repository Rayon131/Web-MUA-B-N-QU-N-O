@model List<DATNN.Models.SanPham>
@{
    ViewData["Title"] = "Home Page";
}
@* /Tìm Kiếm/ *@
@* THÊM ĐOẠN CSS NÀY VÀO ĐẦU FILE *@
<style>
    .fruite-item {
        display: flex;
        flex-direction: column;
        height: 100%;
        text-decoration: none; /* Bỏ gạch chân của link */
        color: inherit; /* Giữ màu chữ mặc định */
    }

        .fruite-item .p-4 {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .fruite-item h4 {
            min-height: 3rem;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .fruite-item p {
            min-height: 4.5rem;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .fruite-item .card-footer-custom {
            margin-top: auto; /* Đẩy giá tiền xuống đáy */
            padding-top: 1rem;
        }

    /* === PHẦN CSS MỚI CHO HIỆU ỨNG HOVER === */
    .product-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 86, 210, 0.7); /* Màu xanh primary với độ trong suốt */
        border-radius: 0.375rem; /* bo góc giống thẻ card */
        display: flex;
        justify-content: center;
        align-items: center;
        color: white;
        font-size: 1.2rem;
        font-weight: bold;
        opacity: 0; /* Ẩn lớp phủ đi lúc đầu */
        transition: opacity 0.3s ease; /* Hiệu ứng mờ dần */
        pointer-events: none; /* Cho phép click xuyên qua nếu cần */
    }

    .product-card {
        position: relative;
        border: 1px solid #ddd;
        border-radius: 8px;
        overflow: hidden;
        height: 100%;
        display: flex;
        flex-direction: column;
        transition: 0.3s;
    }

        .product-card:hover {
            box-shadow: 0 4px 15px rgba(0,0,0,0.15);
        }

    /* ẢNH CỐ ĐỊNH CHIỀU CAO */
    .product-img {
        height: 220px;
        overflow: hidden;
    }

        .product-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

    /* CATEGORY HIỂN THỊ NHƯ NHAU */
    .product-category {
        position: absolute;
        top: 10px;
        left: 10px;
        background: #6c757d;
        color: #fff;
        padding: 3px 10px;
        border-radius: 5px;
        font-size: 14px;
    }

    /* BODY ĐỒNG NHẤT CHIỀU CAO */
    .product-body {
        padding: 15px;
        display: flex;
        flex-direction: column;
        height: 100%;
    }

    /* TIÊU ĐỀ GIỚI HẠN 2 DÒNG */
    .product-title {
        font-size: 18px;
        font-weight: bold;
        height: 45px;
        overflow: hidden;
    }

    /* MÔ TẢ GIỚI HẠN 2 DÒNG */
    .product-desc {
        flex-grow: 1;
        height: 40px;
        overflow: hidden;
        color: #555;
        font-size: 14px;
    }

    /* GIÁ LUÔN NẰM DƯỚI */
    .product-price {
        margin-top: auto;
        font-size: 18px;
        color: #000;
        font-weight: bold;
    }

    /* Hiệu ứng overlay khi hover */
    .product-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0,0,0,0.45);
        color: #fff;
        display: flex;
        justify-content: center;
        align-items: center;
        opacity: 0;
        transition: 0.3s;
    }

    .product-card:hover .product-overlay {
        opacity: 1;
    }

    .fruite-item:hover .product-overlay {
        opacity: 1; /* Hiện lớp phủ lên khi hover */
    }
</style>


<div class="container-fluid py-5 mb-5 hero-header">
    <div class="container py-5">
        <div class="row g-5 align-items-center">
            <div class="col-md-12 col-lg-7">
                <h4 class="mb-3 text-secondary">Chính hãng 100%</h4>
                <h1 class="mb-5 display-3 text-primary">Chào hè 2025 với Legend Store</h1>
                <form method="get" action="/Home/Index">
                    <div class="position-relative mx-auto">
                        <input class="form-control border-2 border-secondary w-75 py-3 px-4 rounded-pill"
                               type="text"
                               name="keyword"
                               value="@ViewBag.Keyword"
                               placeholder="Tìm kiếm">

                        <button type="submit"
                                class="btn btn-primary border-2 border-secondary py-3 px-4 position-absolute rounded-pill text-white h-100"
                                style="top: 0; right: 25%;">
                            Tìm kiếm
                        </button>
                    </div>
                </form>

            </div>
            <div class="col-md-12 col-lg-5">
                <div id="carouselId" class="carousel slide position-relative" data-bs-ride="carousel">
                    <div class="carousel-inner" role="listbox">
                        <div class="carousel-item active rounded">
                            <img src="~/img/hero-img-3.jpg" class="img-fluid w-100 h-100 bg-secondary rounded" alt="First slide">
                            <a href="#" class="btn px-4 py-2 text-white rounded">Quần áo nam</a>
                        </div>
                        <div class="carousel-item rounded">
                            <img src="~/img/hinh2.jpg" class="img-fluid w-100 h-100 rounded" alt="Second slide">
                            <a href="#" class="btn px-4 py-2 text-white rounded">Quần áo nữ</a>
                        </div>
                        <div class="carousel-item rounded">
                            <img src="~/img/hero-img-1.jpg" class="img-fluid w-100 h-100 rounded" alt="Third slide">
                            <a href="#" class="btn px-4 py-2 text-white rounded">Quần áo Brand</a>
                        </div>
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#carouselId" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#carouselId" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div> 
@* / Giới Thiệu/ *@
<div class="container-fluid featurs py-5">
    <div class="container py-5">
        <div class="row g-4">
            <div class="col-md-6 col-lg-3">
                <div class="featurs-item text-center rounded bg-light p-4">
                    <div class="featurs-icon btn-square rounded-circle bg-secondary mb-5 mx-auto">
                        <i class="fas fa-car-side fa-3x text-white"></i>
                    </div>
                    <div class="featurs-content text-center">
                        <h5>Miễn phí ship</h5>
                        <p class="mb-0">Miễn phí ship với đơn dưới 3km </p>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-lg-3">
                <div class="featurs-item text-center rounded bg-light p-4">
                    <div class="featurs-icon btn-square rounded-circle bg-secondary mb-5 mx-auto">
                        <i class="fas fa-user-shield fa-3x text-white"></i>
                    </div>
                    <div class="featurs-content text-center">
                        <h5>Bảo mật thanh toán</h5>
                        <p class="mb-0">100% thanh toán bảo mật</p>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-lg-3">
                <div class="featurs-item text-center rounded bg-light p-4">
                    <div class="featurs-icon btn-square rounded-circle bg-secondary mb-5 mx-auto">
                        <i class="fas fa-exchange-alt fa-3x text-white"></i>
                    </div>
                    <div class="featurs-content text-center">
                        <h5>7 ngày hoàn trả</h5>
                        <p class="mb-0">7 ngày đổi trả hoàn tiền.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-lg-3">
                <div class="featurs-item text-center rounded bg-light p-4">
                    <div class="featurs-icon btn-square rounded-circle bg-secondary mb-5 mx-auto">
                        <i class="fa fa-phone-alt fa-3x text-white"></i>
                    </div>
                    <div class="featurs-content text-center">
                        <h5>24/7 phục vụ</h5>
                        <p class="mb-0">Hỗ trợ 24/7</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
@* / Sản Phẩm/ *@
<div class="container-fluid fruite py-5">
    <div class="container py-5">
        <div class="tab-class text-center">
            <div class="row g-4">
                <div class="col-lg-4 text-start">
                    <h1>Hot Deals chào hè 2025 từ Legend store</h1>
                </div>
                <div class="col-lg-8 text-end">
                    <ul class="nav nav-pills d-inline-flex text-center mb-5">
                        <li class="nav-item">
                            <a class="d-flex m-2 py-2 bg-light rounded-pill active" data-bs-toggle="pill" href="#tab-1">
                                <span class="text-dark" style="width: 130px;">Các sản phẩm</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="d-flex py-2 m-2 bg-light rounded-pill" data-bs-toggle="pill" href="#tab-2">
                                <span class="text-dark" style="width: 130px;">Nike</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="d-flex m-2 py-2 bg-light rounded-pill" data-bs-toggle="pill" href="#tab-3">
                                <span class="text-dark" style="width: 130px;">Adidad</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="d-flex m-2 py-2 bg-light rounded-pill" data-bs-toggle="pill" href="#tab-4">
                                <span class="text-dark" style="width: 130px;">Chanel</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="d-flex m-2 py-2 bg-light rounded-pill" data-bs-toggle="pill" href="#tab-5">
                                <span class="text-dark" style="width: 130px;">Uniqlo</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="tab-content">
                <div id="tab-1" class="tab-pane fade show p-0 active">
                    <div class="row g-4">
                        <div class="col-lg-12">
                            <div class="row g-4">

                                @* BẮT ĐẦU VÒNG LẶP SẢN PHẨM *@
                                @if (Model != null && Model.Any())
                                {
                                    @foreach (var sanPham in Model)
                                    {
                                        <div class="col-md-6 col-lg-4 col-xl-3">
                                            <a asp-controller="SanPhamChiTiet" asp-action="Detail" asp-route-id="@sanPham.MaSanPham"
                                               class="product-card d-block">

                                                <div class="fruite-img product-img">
                                                    <img src="@Url.Content(!string.IsNullOrEmpty(sanPham.AnhSanPham) ? "~/images/" + sanPham.AnhSanPham : "~/img/placeholder.jpg")"
                                                         class="img-fluid w-100" alt="@sanPham.TenSanPham">
                                                </div>

                                                <div class="product-overlay">
                                                    <span><i class="fa fa-eye me-2"></i> Xem chi tiết</span>
                                                </div>

                                                <div class="product-category">
                                                    @sanPham.DanhMuc?.TenDanhMuc
                                                </div>

                                                <div class="product-body">
                                                    <h5 class="product-title">@sanPham.TenSanPham</h5>
                                                    <p class="product-desc">@sanPham.MoTa</p>

                                                    <p class="product-price">
                                                        @((sanPham.SanPhamChiTiets.FirstOrDefault()?.GiaBan)?.ToString("N0") ?? "Xem giá") VNĐ
                                                    </p>
                                                </div>
                                            </a>
                                        </div>

                                    }
                                }
                                else
                                {
                                    <p class="text-center">Chưa có sản phẩm nào để hiển thị.</p>
                                }
                                @* KẾT THÚC VÒNG LẶP *@

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>